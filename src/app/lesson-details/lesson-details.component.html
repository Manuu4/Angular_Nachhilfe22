<div class="ui grid" *ngIf="lesson">
  <div class="twelve wide column">
    <h1 class="ui header">{{lesson.title}}</h1>
    <h3 class="ui header">{{lesson.course.name}}</h3>
    <div class="ui divider"></div>
    <div class="ui grid">
      <div class="four wide column">
        <h4 class="ui header">Dein*e Helfer*in</h4>
        <!-- <span>{{ lesson.user_id }} </span>  OLD-->
        <span>{{ lesson.user.firstname }} {{ lesson.user.lastname }} </span> <!-- NEW -->
      </div>
      <div>
        <div class="four wide column">
          <h4 class="ui header">Termin 1</h4>
          <p>{{ lesson.timeslot1 }}</p>
        </div>
        <div class="four wide column">
          <h4 class="ui header">Termin 2</h4>
          <p>{{ lesson.timeslot2 }}</p>
        </div>
      </div>
      <div class="four wide column">
        <h4 class="ui header">Status: {{lesson.status}}</h4>
      </div>
    </div>
  </div>
  <div class="sixteen wide column">
    <h3 class="ui header">Beschreibung</h3>
    {{ lesson.description }}
  </div>
  <div class="ui" *ngIf="lesson?.status">
    <i class="green ellipsis icon"></i>
  </div>
</div>


<a *ngIf="authService.isLoggedIn() && authService.userIsHelper()" class="ui tiny yellow labeled icon button"
   [routerLink]="['../../admin', lesson?.id]">
  <i class="write icon"></i> Einheit bearbeiten
</a>

<button *ngIf="authService.isLoggedIn() && authService.userIsHelper()" class="ui red button" (click)="removeLesson()">
  <i class="remove icon"></i>
  Einheit entfernen
</button>

<hr/>
<button [routerLink]="'/lessons'" class="ui red button">Zu allen Angeboten</button>


<h3>Anfrageformular</h3>

<form class="ui large form" [formGroup]="proposalForm" (ngSubmit)="submitForm()">

  <!--  <input type="hidden" formControlName="id">-->

  <div class="field">
    <label>Terminwahl</label>
    <fieldset>
      <div>
        <input id="time1" type="radio" value="{{this.lesson.timeslot1}}" name="time1">
        <label for="time1">Termin 1</label>
      </div>
      <div>
        <input id="time2" type="radio" value="{{this.lesson.timeslot2}}" name="time2">
        <label for="time2">Termin 2</label>
      </div>
      <div>
        <input id="time3" type="radio" value="{{this.lesson.timeslot2}}" name="time3">
        <label for="time3">Terminvorschlag</label>
      </div>
      <div *ngIf="errors['time']" class="ui negative message">
        {{errors['time']}}
      </div>
    </fieldset>
  </div>

  <div class="field">
    <label>Terminvorschlag</label>
    <input type="DateTime" formControlName="time"/>
    <div *ngIf="errors['time']" class="ui negative message">
      {{ errors['time']}}
    </div>
  </div>

  <div class="field">
    <label>Nachricht</label>
    <textarea formControlName="message" rows="3"></textarea>
    <div *ngIf="errors['message']" class="ui negative message">{{ errors['message']}}</div>
  </div>

  <!--  <input type="hidden" formControlName="user">-->

  <button type="submit" class="ui button" [disabled]="proposalForm.invalid">Anfragen</button>


</form>
